id: Pull Request Creation
version: -1
name: Pull Request Creation
description: This playbook creates a pull request from content zip file.
starttaskid: '0'
tasks:
  '0':
    id: '0'
    taskid: acfd42f6-59c1-488d-83d7-824177cc9114
    type: start
    task:
      id: acfd42f6-59c1-488d-83d7-824177cc9114
      version: -1
      name: ''
      iscommand: false
      brand: ''
      description: ''
    nexttasks:
      '#none#':
      - '23'
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 480,
          "y": 50
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '1':
    id: '1'
    taskid: c6472ffd-daf3-4788-8c00-d13efa505396
    type: regular
    task:
      id: c6472ffd-daf3-4788-8c00-d13efa505396
      version: -1
      name: unzip pack
      description: Unzip a file using fileName or entryID to specify a file. Unzipped files will be loaded to the War Room and names will be put into the context.
      scriptName: UnzipFile
      type: regular
      iscommand: false
      brand: ''
    nexttasks:
      '#none#':
      - '11'
    scriptarguments:
      entryID:
        complex:
          root: File
          accessor: EntryID
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 480,
          "y": 370
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '2':
    id: '2'
    taskid: 13aedfd7-8b8c-42c2-84e9-7f1422d64960
    type: regular
    task:
      id: 13aedfd7-8b8c-42c2-84e9-7f1422d64960
      version: -1
      name: get master branch
      description: Gets a branch
      script: '|||GitHub-get-branch'
      type: regular
      iscommand: true
      brand: ''
    nexttasks:
      '#none#':
      - '38'
    scriptarguments:
      branch_name:
        simple: master
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 480,
          "y": 1740
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '3':
    id: '3'
    taskid: bc1b3d0c-0f3c-4a34-8e90-f39fa83b3d2c
    type: regular
    task:
      id: bc1b3d0c-0f3c-4a34-8e90-f39fa83b3d2c
      version: -1
      name: create new branch
      description: Create a new branch.
      script: '|||GitHub-create-branch'
      type: regular
      iscommand: true
      brand: ''
    nexttasks:
      '#none#':
      - '39'
    scriptarguments:
      branch_name:
        complex:
          root: BranchName
      commit_sha:
        complex:
          root: GitHub.Branch
          accessor: CommitSHA
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 367.5,
          "y": 2410
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '6':
    id: '6'
    taskid: deca1902-5f7c-41bc-87fa-1fa3e5ea9daf
    type: regular
    task:
      id: deca1902-5f7c-41bc-87fa-1fa3e5ea9daf
      version: -1
      name: commit files
      scriptName: CommitFiles
      type: regular
      iscommand: false
      brand: ''
      description: ''
    nexttasks:
      '#none#':
      - '20'
    scriptarguments:
      branch:
        complex:
          root: BranchName
      comment:
        complex:
          root: incident
          accessor: cicdpullrequestcomment
      files:
        complex:
          root: File
      pack:
        complex:
          root: PackName
      user:
        complex:
          root: DemistoUsers
          transformers:
          - operator: FirstArrayElement
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 480,
          "y": 2730
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '7':
    id: '7'
    taskid: fb378c3d-713e-4f3f-8de8-803d2f647585
    type: regular
    task:
      id: fb378c3d-713e-4f3f-8de8-803d2f647585
      version: -1
      name: create pr
      description: Creates a new pull request.
      script: '|||GitHub-create-pull-request'
      type: regular
      iscommand: true
      brand: ''
    nexttasks:
      '#none#':
      - '9'
    scriptarguments:
      base:
        simple: master
      body:
        complex:
          root: PR_text
      draft:
        simple: 'false'
      head:
        complex:
          root: BranchName
      title:
        complex:
          root: incident
          accessor: cicdpullrequesttitle
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 480,
          "y": 3400
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '8':
    id: '8'
    taskid: 6f39f820-c121-440e-8dd6-56dc76eab174
    type: regular
    task:
      id: 6f39f820-c121-440e-8dd6-56dc76eab174
      version: -1
      name: request pr review
      description: Requests reviews from GitHub users for a given pull request.
      script: '|||GitHub-request-review'
      type: regular
      iscommand: true
      brand: ''
    nexttasks:
      '#none#':
      - '36'
    scriptarguments:
      pull_number:
        complex:
          root: GitHub.PR
          accessor: Number
      reviewers:
        complex:
          root: incident
          accessor: cicdreviewer
    separatecontext: false
    continueonerror: true
    view: |-
      {
        "position": {
          "x": 377.5,
          "y": 3750
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '9':
    id: '9'
    taskid: ab277443-9e45-45e7-81f3-986dbcc08c1a
    type: condition
    task:
      id: ab277443-9e45-45e7-81f3-986dbcc08c1a
      version: -1
      name: add reviewer?
      type: condition
      iscommand: false
      brand: ''
      description: ''
    nexttasks:
      '#default#':
      - '36'
      yes:
      - '8'
    separatecontext: false
    conditions:
    - label: yes
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: incident.cicdreviewer
            iscontext: true
          right:
            value: {}
    view: |-
      {
        "position": {
          "x": 265,
          "y": 3575
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '11':
    id: '11'
    taskid: 97009d7b-6757-4b5c-8ef9-ce024d56d49d
    type: regular
    task:
      id: 97009d7b-6757-4b5c-8ef9-ce024d56d49d
      version: -1
      name: read metadata.json
      description: Load the contents of a file into context.
      scriptName: ReadFile
      type: regular
      iscommand: false
      brand: ''
    nexttasks:
      '#none#':
      - '12'
    scriptarguments:
      entryID:
        complex:
          root: File
          filters:
          - - operator: isEqualString
              left:
                value:
                  simple: File.Name
                iscontext: true
              right:
                value:
                  simple: metadata.json
          accessor: EntryID
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 480,
          "y": 545
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '12':
    id: '12'
    taskid: fea4bef4-95df-4a18-8f1d-7eca2ed763ba
    type: regular
    task:
      id: fea4bef4-95df-4a18-8f1d-7eca2ed763ba
      version: -1
      name: set pack name
      description: Set a value in context under the key you entered.
      scriptName: Set
      type: regular
      iscommand: false
      brand: ''
    nexttasks:
      '#none#':
      - '37'
    scriptarguments:
      key:
        simple: PackName
      value:
        complex:
          root: FileData
          transformers:
          - operator: ParseJSON
          - operator: getField
            args:
              field:
                value:
                  simple: name
          - operator: replace
            args:
              limit: {}
              replaceWith: {}
              toReplace:
                value:
                  simple: ' '
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 480,
          "y": 720
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '18':
    id: '18'
    taskid: d7098311-0d51-4fa6-80e2-5433cf789bf6
    type: regular
    task:
      id: d7098311-0d51-4fa6-80e2-5433cf789bf6
      version: -1
      name: get branch
      description: Gets a branch
      script: '|||GitHub-get-branch'
      type: regular
      iscommand: true
      brand: ''
    nexttasks:
      '#none#':
      - '19'
    scriptarguments:
      branch_name:
        complex:
          root: BranchName
    separatecontext: false
    continueonerror: true
    view: |-
      {
        "position": {
          "x": 480,
          "y": 2060
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '19':
    id: '19'
    taskid: 54a8e98b-f9c2-44f3-888c-3207476cfd39
    type: condition
    task:
      id: 54a8e98b-f9c2-44f3-888c-3207476cfd39
      version: -1
      name: does branch exist?
      type: condition
      iscommand: false
      brand: ''
      description: ''
    nexttasks:
      '#default#':
      - '3'
      yes:
      - '39'
    separatecontext: false
    conditions:
    - label: yes
      condition:
      - - operator: isEqualString
          left:
            value:
              complex:
                root: GitHub.Branch
                accessor: Name
            iscontext: true
          right:
            value:
              simple: BranchName
            iscontext: true
    view: |-
      {
        "position": {
          "x": 480,
          "y": 2235
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '20':
    id: '20'
    taskid: ff3655e1-5824-493c-8d06-10c9b69ebe61
    type: condition
    task:
      id: ff3655e1-5824-493c-8d06-10c9b69ebe61
      version: -1
      name: does branch exist?
      type: condition
      iscommand: false
      brand: ''
      description: ''
    nexttasks:
      '#default#':
      - '40'
      yes:
      - '41'
    separatecontext: false
    conditions:
    - label: yes
      condition:
      - - operator: isEqualString
          left:
            value:
              complex:
                root: GitHub.Branch
                accessor: Name
            iscontext: true
          right:
            value:
              simple: BranchName
            iscontext: true
    view: |-
      {
        "position": {
          "x": 480,
          "y": 2905
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '22':
    id: '22'
    taskid: 0b4b2a96-b5ee-425f-85c5-ea90e661caf0
    type: regular
    task:
      id: 0b4b2a96-b5ee-425f-85c5-ea90e661caf0
      version: -1
      name: send slack notification
      description: Sends a message to a user, group, or channel.
      script: '|||send-notification'
      type: regular
      iscommand: true
      brand: ''
    nexttasks:
      '#none#':
      - '43'
    scriptarguments:
      channel:
        complex:
          root: inputs.SlackChannel
      ignoreAddURL:
        simple: 'true'
      message:
        complex:
          root: SlackMessageText
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 705,
          "y": 4770
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '23':
    id: '23'
    taskid: 08d47ffb-c94d-4ae3-8e7a-3295dffa3a9c
    type: regular
    task:
      id: 08d47ffb-c94d-4ae3-8e7a-3295dffa3a9c
      version: -1
      name: get username
      description: commands.local.cmd.get.users
      script: Builtin|||getUsers
      type: regular
      iscommand: true
      brand: Builtin
    nexttasks:
      '#none#':
      - '1'
    scriptarguments:
      incidentId:
        complex:
          root: incident
          accessor: id
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 480,
          "y": 195
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '25':
    id: '25'
    taskid: a86fed66-807a-4f0c-8d97-0a3be051fe61
    type: regular
    task:
      id: a86fed66-807a-4f0c-8d97-0a3be051fe61
      version: -1
      name: set branch name
      description: Set a value in context under the key you entered.
      scriptName: Set
      type: regular
      iscommand: false
      brand: ''
    nexttasks:
      '#none#':
      - '2'
    scriptarguments:
      key:
        simple: BranchName
      value:
        complex:
          root: incident
          accessor: cicdbranch
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 480,
          "y": 1565
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '26':
    id: '26'
    taskid: e7887d98-475b-4024-81d8-47391fe3a614
    type: condition
    task:
      id: e7887d98-475b-4024-81d8-47391fe3a614
      version: -1
      name: is branch name given
      type: condition
      iscommand: false
      brand: ''
      description: ''
    nexttasks:
      '#default#':
      - '27'
      yes:
      - '25'
    separatecontext: false
    conditions:
    - label: yes
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: incident.cicdbranch
            iscontext: true
          right:
            value: {}
    view: |-
      {
        "position": {
          "x": 265,
          "y": 1215
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '27':
    id: '27'
    taskid: 4a84a785-2b31-4f50-8913-b54e081cd38c
    type: regular
    task:
      id: 4a84a785-2b31-4f50-8913-b54e081cd38c
      version: -1
      name: suggest branch name
      scriptName: SuggestBranchName
      type: regular
      iscommand: false
      brand: ''
      description: ''
    nexttasks:
      '#none#':
      - '28'
    scriptarguments:
      pack:
        complex:
          root: PackName
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1390
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '28':
    id: '28'
    taskid: 5a59ce35-9581-428b-897e-81d219a59d56
    type: regular
    task:
      id: 5a59ce35-9581-428b-897e-81d219a59d56
      version: -1
      name: set branch name
      description: Set a value in context under the key you entered.
      scriptName: Set
      type: regular
      iscommand: false
      brand: ''
    nexttasks:
      '#none#':
      - '2'
    scriptarguments:
      key:
        simple: BranchName
      value:
        complex:
          root: AvailableBranch
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 1565
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '29':
    id: '29'
    taskid: c0b5b9fe-283a-4c9a-83f1-019de22d44b2
    type: condition
    task:
      id: c0b5b9fe-283a-4c9a-83f1-019de22d44b2
      version: -1
      name: is pr branch name given
      type: condition
      iscommand: false
      brand: ''
      description: ''
    nexttasks:
      '#default#':
      - '26'
      yes:
      - '30'
    separatecontext: false
    conditions:
    - label: yes
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: incident.cicdpullrequestbranch
            iscontext: true
          right:
            value: {}
    view: |-
      {
        "position": {
          "x": 480,
          "y": 1040
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '30':
    id: '30'
    taskid: ea209453-774d-4c4c-8a57-7e0671f8ac30
    type: regular
    task:
      id: ea209453-774d-4c4c-8a57-7e0671f8ac30
      version: -1
      name: set branch name
      description: Set a value in context under the key you entered.
      scriptName: Set
      type: regular
      iscommand: false
      brand: ''
    nexttasks:
      '#none#':
      - '2'
    scriptarguments:
      key:
        simple: BranchName
      value:
        complex:
          root: incident
          accessor: cicdpullrequestbranch
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 910,
          "y": 1565
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '31':
    id: '31'
    taskid: 30656f57-8783-4c58-8938-d263d055b5c8
    type: regular
    task:
      id: 30656f57-8783-4c58-8938-d263d055b5c8
      version: -1
      name: get pull request
      description: Gets pull requests corresponding to the given branch name.
      script: '|||GitHub-list-branch-pull-requests'
      type: regular
      iscommand: true
      brand: ''
    nexttasks:
      '#none#':
      - '35'
    scriptarguments:
      branch_name:
        complex:
          root: BranchName
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 807.5,
          "y": 3750
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '32':
    id: '32'
    taskid: e047039a-d618-4f63-8542-cc04bbecd38e
    type: regular
    task:
      id: e047039a-d618-4f63-8542-cc04bbecd38e
      version: -1
      name: set incident fields values
      description: commands.local.cmd.set.incident
      script: Builtin|||setIncident
      type: regular
      iscommand: true
      brand: Builtin
    nexttasks:
      '#none#':
      - '42'
    scriptarguments:
      cicdbranch:
        complex:
          root: BranchName
      cicdpackname:
        complex:
          root: PackName
      cicdpullrequestlink:
        simple: https://github.com/${GitHub.PR.Head.Repo.FullName}/pull/${GitHub.PR.Number}
      cicdreviewer:
        complex:
          root: GitHub.PR.RequestedReviewer
          accessor: Login
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 480,
          "y": 4100
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '33':
    id: '33'
    taskid: 624e16a8-5a4b-4396-8c29-479f61b37b1d
    type: condition
    task:
      id: 624e16a8-5a4b-4396-8c29-479f61b37b1d
      version: -1
      name: is Slack v2 enabled?
      description: Returns 'yes' if integration brand is available. Otherwise returns 'no'
      scriptName: IsIntegrationAvailable
      type: condition
      iscommand: false
      brand: ''
    nexttasks:
      '#default#':
      - '43'
      yes:
      - '44'
    scriptarguments:
      brandname:
        simple: SlackV2
    results:
    - brandInstances
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 480,
          "y": 4420
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '35':
    id: '35'
    taskid: f4568374-6ddf-4019-8da2-b2fa3e28f1bb
    type: regular
    task:
      id: f4568374-6ddf-4019-8da2-b2fa3e28f1bb
      version: -1
      name: set SlackMessageText for update
      description: Set a value in context under the key you entered.
      scriptName: Set
      type: regular
      iscommand: false
      brand: ''
    nexttasks:
      '#none#':
      - '32'
    scriptarguments:
      key:
        simple: SlackMessageText
      value:
        simple: |-
          This pull request was updated by ${DemistoUsers.[0].username}:
          https://github.com/${GitHub.PR.Head.Repo.FullName}/pull/${GitHub.PR.Number}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 807.5,
          "y": 3925
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '36':
    id: '36'
    taskid: f979ceb7-5c43-4e32-8418-766e9df46137
    type: regular
    task:
      id: f979ceb7-5c43-4e32-8418-766e9df46137
      version: -1
      name: set SlackMessageText for new pr
      description: Set a value in context under the key you entered.
      scriptName: Set
      type: regular
      iscommand: false
      brand: ''
    nexttasks:
      '#none#':
      - '32'
    scriptarguments:
      key:
        simple: SlackMessageText
      value:
        simple: |-
          New pull request was created by ${DemistoUsers.[0].username} for the pack ${PackName}:
          https://github.com/${GitHub.PR.Head.Repo.FullName}/pull/${GitHub.PR.Number}
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 265,
          "y": 3925
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '37':
    id: '37'
    taskid: a4eb67a4-80c0-4aef-861a-7ec4691317f5
    type: title
    task:
      id: a4eb67a4-80c0-4aef-861a-7ec4691317f5
      version: -1
      name: Set the branch name
      type: title
      iscommand: false
      brand: ''
      description: ''
    nexttasks:
      '#none#':
      - '29'
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 480,
          "y": 895
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '38':
    id: '38'
    taskid: eaab811d-0578-4c67-8eb0-17bbebbd5183
    type: title
    task:
      id: eaab811d-0578-4c67-8eb0-17bbebbd5183
      version: -1
      name: Check if branch exists and create it if not
      type: title
      iscommand: false
      brand: ''
      description: ''
    nexttasks:
      '#none#':
      - '18'
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 480,
          "y": 1915
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '39':
    id: '39'
    taskid: b9eaae71-cefe-4bcc-813f-aebb7a6782c4
    type: title
    task:
      id: b9eaae71-cefe-4bcc-813f-aebb7a6782c4
      version: -1
      name: Commit the files
      type: title
      iscommand: false
      brand: ''
      description: ''
    nexttasks:
      '#none#':
      - '6'
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 480,
          "y": 2585
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '40':
    id: '40'
    taskid: ba159e74-3bb4-4805-8334-7677c4a399e1
    type: title
    task:
      id: ba159e74-3bb4-4805-8334-7677c4a399e1
      version: -1
      name: Create new pull request
      type: title
      iscommand: false
      brand: ''
      description: ''
    nexttasks:
      '#none#':
      - '46'
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 265,
          "y": 3080
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '41':
    id: '41'
    taskid: 5296946a-8518-4efc-82db-33c3cd87df2f
    type: title
    task:
      id: 5296946a-8518-4efc-82db-33c3cd87df2f
      version: -1
      name: Update existing pull request
      type: title
      iscommand: false
      brand: ''
      description: ''
    nexttasks:
      '#none#':
      - '31'
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 807.5,
          "y": 3590
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '42':
    id: '42'
    taskid: d5a11993-e7a2-4af7-82ca-6b164a9b2ac8
    type: title
    task:
      id: d5a11993-e7a2-4af7-82ca-6b164a9b2ac8
      version: -1
      name: send notification
      type: title
      iscommand: false
      brand: ''
      description: ''
    nexttasks:
      '#none#':
      - '33'
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 480,
          "y": 4275
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '43':
    id: '43'
    taskid: 89c732e1-e8fd-4950-83c5-654c744e6cc2
    type: title
    task:
      id: 89c732e1-e8fd-4950-83c5-654c744e6cc2
      version: -1
      name: Done
      type: title
      iscommand: false
      brand: ''
      description: ''
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 480,
          "y": 4945
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '44':
    id: '44'
    taskid: cf736d16-d037-439c-8aa3-3fb9993022f3
    type: condition
    task:
      id: cf736d16-d037-439c-8aa3-3fb9993022f3
      version: -1
      name: is slack channel given
      type: condition
      iscommand: false
      brand: ''
      description: ''
    nexttasks:
      '#default#':
      - '43'
      yes:
      - '22'
    separatecontext: false
    conditions:
    - label: yes
      condition:
      - - operator: isNotEmpty
          left:
            value:
              simple: inputs.SlackChannel
            iscontext: true
          right:
            value: {}
    view: |-
      {
        "position": {
          "x": 592.5,
          "y": 4595
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '45':
    id: '45'
    taskid: a884a2b3-696d-4ac8-8c48-82c6fc5560b1
    type: regular
    task:
      id: a884a2b3-696d-4ac8-8c48-82c6fc5560b1
      version: -1
      name: create pr
      description: Creates a new pull request.
      script: '|||GitHub-create-pull-request'
      type: regular
      iscommand: true
      brand: ''
    nexttasks:
      '#none#':
      - '9'
    scriptarguments:
      base:
        simple: master
      body:
        complex:
          root: PR_text
      draft:
        simple: 'false'
      head:
        complex:
          root: BranchName
      title:
        complex:
          root: PackName
    separatecontext: false
    view: |-
      {
        "position": {
          "x": 50,
          "y": 3400
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
  '46':
    id: '46'
    taskid: c27feab7-6990-4f44-8923-67f4dc7b136b
    type: condition
    task:
      id: c27feab7-6990-4f44-8923-67f4dc7b136b
      version: -1
      name: Is Pull Request title empty?
      type: condition
      iscommand: false
      brand: ''
      description: ''
    nexttasks:
      '#default#':
      - '7'
      yes:
      - '45'
    separatecontext: false
    conditions:
    - label: yes
      condition:
      - - operator: isEmpty
          left:
            value:
              complex:
                root: incident
                accessor: cicdpullrequesttitle
            iscontext: true
    view: |-
      {
        "position": {
          "x": 265,
          "y": 3225
        }
      }
    note: false
    timertriggers: []
    ignoreworker: false
    skipunavailable: false
    quietmode: 0
    isoversize: false
    isautoswitchedtoquietmode: false
view: |-
  {
    "linkLabelsPosition": {},
    "paper": {
      "dimensions": {
        "height": 4960,
        "width": 1240,
        "x": 50,
        "y": 50
      }
    }
  }
inputs:
- key: SlackChannel
  value: {}
  required: false
  description: Slack channel name to send the notifications.
  playbookInputQuery:
outputs: []
tests:
- No tests (auto formatted)
fromversion: 6.0.0
